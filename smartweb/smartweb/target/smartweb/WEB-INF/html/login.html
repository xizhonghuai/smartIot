<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>IOT平台</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <link rel="stylesheet" href="assets/css/amazeui.min.css" />
    <link rel="stylesheet" href="assets/css/admin.css">
    <link rel="stylesheet" href="assets/css/common.css">
    <link rel="stylesheet" href="assets/css/app.css">

</head>
<body data-type="login">

<div class="am-g myapp-login">

    <div>
        <h1></h1>
        <h1></h1>
        <h1></h1>
        <h1></h1>
    </div>


    <div class="myapp-login-logo-block  tpl-login-max">
        <div class="myapp-login-logo-text">
            <div class="myapp-login-logo-text">
                物联网多元数据融合可视化云平台
                <span> Login</span> <i class="am-icon-skyatlas"></i>

            </div>
        </div>

        <div class="login-font">

               <span>重庆谱通科技有限公司</span>
        </div>
        <div class="am-u-sm-10 login-am-center">
            <div class="am-form" action="home" method="post">
                <fieldset>
                    <div class="am-form-group">
                        <input style="border-radius: 10px;" type="text" class=""
                               id="username" name="username" placeholder="输入账户">
                    </div>
                    <div>
                        <h3></h3>
                    </div>
                    <div class="am-form-group">
                        <input style="border-radius: 10px;" type="password" class=""
                               id="userpwd" name="password" placeholder="输入密码">
                    </div>
                    <p>
                        <button onclick="doLogin()" type="button" class="am-btn am-btn-default">登录</button>
                    </p>
                </fieldset>
            </div>
        </div>





    </div>
</div>


<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/amazeui.min.js"></script>
<script src="assets/js/app.js"></script>


<script type="text/javascript">

    // 数据请求
    function GetData(Url, request) {
        var ret;
        $.ajax({
            url : Url,
            type : 'post',
            async : false,
            dataType : "json",
            data : request,
            success : function(data) {

                ret = data;
            },
            error : function() {
                ret = {
                    "statusCode":500
                }
            }
        });

        return ret;
    }

    function doLogin() {

        var name = $("#username").val().trim();
        var password = $("#userpwd").val().trim();

        if ((name.length <= 0) || (password.length <= 0)) {

            alert("请输入用户名或密码");

            return;
        }

        var par = {
            userName: name,
            userPassword: password
        };

        var data = GetData("../doLogin", par);

        if (data.statusCode == 200) {
            window.location.href = "index.html";
        } else  if (data.statusCode == 404) {

            alert("用户不存在");

        } else if (data.statusCode == 401) {

            alert("密码错误");
        }
    }





</script>




</body>
</html>